{"version":3,"file":"_layout-do5jNA5D.js","sources":["../../node_modules/zustand/esm/vanilla/shallow.mjs","../../node_modules/zustand/esm/react/shallow.mjs","../../src/pages/sqlite/_layout.tsx"],"sourcesContent":["const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (!isIterable(valueA) || !isIterable(valueB)) {\n    return compareEntries(\n      { entries: () => Object.entries(valueA) },\n      { entries: () => Object.entries(valueB) }\n    );\n  }\n  if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n    return compareEntries(valueA, valueB);\n  }\n  return compareIterables(valueA, valueB);\n}\n\nexport { shallow };\n","import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef();\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n","import { AppSidebar } from \"@/components/app-sidebar\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { SidebarInset, SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { useSqliteStore } from \"@/util/sqliteStore\";\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { useShallow } from \"zustand/react/shallow\";\n\nexport default function SQLiteLayout({ children }: { children: React.ReactNode }) {\n  const { tables, filename } = useSqliteStore(\n    useShallow((state) => ({\n      filename: state.filename,\n      tables: state.tables,\n    }))\n  );\n\n  const location = useLocation();\n  const selectedTable = location.pathname.split(\"/\")[2];\n\n  return (\n    <SidebarProvider>\n      <AppSidebar\n        sublocation=\"sqlite\"\n        navMain={[\n          {\n            title: \"Tables\",\n            url: \"#\",\n            items: tables.map((table) => ({\n              title: table,\n              url: `/sqlite/${table}`,\n              isActive: table === selectedTable,\n            })),\n          },\n        ]}\n      />\n      <SidebarInset>\n        <header className=\"flex h-16 shrink-0 items-center gap-2 border-b px-4\">\n          <SidebarTrigger className=\"-ml-1\" />\n          <Separator orientation=\"vertical\" className=\"mr-2 h-4\" />\n          <Breadcrumb>\n            <BreadcrumbList>\n              <BreadcrumbItem className=\"hidden md:block\">\n                <Link className=\"transition-colors hover:text-foreground\" to={\"/sqlite\"}>\n                  {\"SQLite\"}\n                </Link>\n              </BreadcrumbItem>\n              {selectedTable && (\n                <>\n                  <BreadcrumbSeparator className=\"hidden md:block\" />\n                  <BreadcrumbItem>\n                    <BreadcrumbPage>{`${selectedTable}'s table`}</BreadcrumbPage>\n                  </BreadcrumbItem>\n                </>\n              )}\n            </BreadcrumbList>\n          </Breadcrumb>\n          <div className=\"ml-auto\">{filename}</div>\n        </header>\n        <div className=\"flex flex-1 flex-col gap-4 p-4\">{children}</div>\n      </SidebarInset>\n    </SidebarProvider>\n  );\n}\n"],"names":["isIterable","obj","hasIterableEntries","value","compareEntries","valueA","valueB","mapA","mapB","key","compareIterables","iteratorA","iteratorB","nextA","nextB","shallow","useShallow","selector","prev","React","state","next","SQLiteLayout","children","tables","filename","useSqliteStore","selectedTable","useLocation","SidebarProvider","jsx","AppSidebar","table","SidebarInset","jsxs","SidebarTrigger","Separator","Breadcrumb","BreadcrumbList","BreadcrumbItem","Link","Fragment","BreadcrumbSeparator","BreadcrumbPage"],"mappings":"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","x_google_ignoreList":[0,1]}